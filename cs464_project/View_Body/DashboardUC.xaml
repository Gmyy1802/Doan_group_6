<UserControl x:Class="cs464_project.View_Body.DashboardUC"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Loaded="UserControl_Loaded">

    <UserControl.Resources>
        <Style x:Key="DashCard" TargetType="Border">
            <Setter Property="Background" Value="White"/>
            <Setter Property="CornerRadius" Value="14"/>
            <Setter Property="Padding" Value="20"/>
            <Setter Property="Margin" Value="0,0,16,0"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="16" ShadowDepth="2" Opacity="0.08" Color="#000"/>
                </Setter.Value>
            </Setter>
        </Style>
    </UserControl.Resources>

    <ScrollViewer VerticalScrollBarVisibility="Auto" Padding="28,24,28,20">
        <StackPanel>

            <!-- Header -->
            <StackPanel Margin="0,0,0,24">
                <TextBlock Text="Tá»•ng QuÃ¡t" FontSize="26" FontWeight="Bold" Foreground="#1E293B"/>
                <TextBlock Foreground="#64748B" FontSize="13" Margin="0,4,0,0">
                    <Run Text="Xin chÃ o, chÃºc báº¡n ngÃ y lÃ m viá»‡c hiá»‡u quáº£! â€¢ HÃ´m nay: "/>
                    <Run x:Name="txtHomNay" Text="--/--/----"/>
                </TextBlock>
            </StackPanel>

            <!-- â•â• STATS CARDS â•â• -->
            <UniformGrid Columns="4" Margin="0,0,0,24">
                <!-- Card 1: Doanh thu -->
                <Border Style="{StaticResource DashCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Border Width="48" Height="48" CornerRadius="12" Background="#EBF5FF" Margin="0,0,14,0">
                            <TextBlock Text="ðŸ’°" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="DOANH THU HÃ”M NAY" FontSize="10" Foreground="#64748B" FontWeight="SemiBold"/>
                            <TextBlock x:Name="txtDoanhThuHomNay" Text="0 Ä‘" FontSize="20" FontWeight="Bold" Foreground="#0F62FE" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Card 2: HÃ³a Ä‘Æ¡n -->
                <Border Style="{StaticResource DashCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Border Width="48" Height="48" CornerRadius="12" Background="#F0FDF4" Margin="0,0,14,0">
                            <TextBlock Text="ðŸ§¾" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="HÃ“A ÄÆ N HÃ”M NAY" FontSize="10" Foreground="#64748B" FontWeight="SemiBold"/>
                            <TextBlock x:Name="txtSoHoaDonHomNay" Text="0" FontSize="20" FontWeight="Bold" Foreground="#16A34A" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Card 3: Sáº£n pháº©m -->
                <Border Style="{StaticResource DashCard}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Border Width="48" Height="48" CornerRadius="12" Background="#FFF7ED" Margin="0,0,14,0">
                            <TextBlock Text="ðŸ“¦" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Tá»”NG Sáº¢N PHáº¨M" FontSize="10" Foreground="#64748B" FontWeight="SemiBold"/>
                            <TextBlock x:Name="txtTongSanPham" Text="0" FontSize="20" FontWeight="Bold" Foreground="#EA580C" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Card 4: NhÃ¢n viÃªn -->
                <Border Style="{StaticResource DashCard}" Margin="0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Border Width="48" Height="48" CornerRadius="12" Background="#F5F3FF" Margin="0,0,14,0">
                            <TextBlock Text="ðŸ‘¥" FontSize="22" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <StackPanel Grid.Column="1" VerticalAlignment="Center">
                            <TextBlock Text="Tá»”NG NHÃ‚N VIÃŠN" FontSize="10" Foreground="#64748B" FontWeight="SemiBold"/>
                            <TextBlock x:Name="txtTongNhanVien" Text="0" FontSize="20" FontWeight="Bold" Foreground="#7C3AED" Margin="0,4,0,0"/>
                        </StackPanel>
                    </Grid>
                </Border>
            </UniformGrid>

            <!-- â•â• BOTTOM SECTION â•â• -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Recent orders table -->
                <Border Grid.Column="0" Background="White" CornerRadius="14" Padding="20" Margin="0,0,16,0">
                    <Border.Effect>
                        <DropShadowEffect BlurRadius="16" ShadowDepth="2" Opacity="0.08" Color="#000"/>
                    </Border.Effect>
                    <DockPanel>
                        <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,14">
                            <TextBlock Text="ðŸ§¾" FontSize="16" VerticalAlignment="Center" Margin="0,0,8,0"/>
                            <TextBlock Text="HÃ³a ÄÆ¡n Gáº§n ÄÃ¢y" FontWeight="Bold" FontSize="15" Foreground="#1E293B" VerticalAlignment="Center"/>
                        </StackPanel>
                        <DataGrid x:Name="dgHoaDonGanDay"
                                  AutoGenerateColumns="False"
                                  CanUserAddRows="False"
                                  IsReadOnly="True"
                                  HeadersVisibility="Column"
                                  RowHeight="32"
                                  GridLinesVisibility="Horizontal"
                                  HorizontalGridLinesBrush="#F1F5F9"
                                  BorderThickness="0"
                                  Background="Transparent"
                                  RowBackground="White"
                                  AlternatingRowBackground="#F8FAFC">
                            <DataGrid.ColumnHeaderStyle>
                                <Style TargetType="DataGridColumnHeader">
                                    <Setter Property="Background" Value="#F1F5F9"/>
                                    <Setter Property="Foreground" Value="#475569"/>
                                    <Setter Property="FontWeight" Value="SemiBold"/>
                                    <Setter Property="FontSize" Value="12"/>
                                    <Setter Property="Padding" Value="10,8"/>
                                    <Setter Property="BorderThickness" Value="0"/>
                                </Style>
                            </DataGrid.ColumnHeaderStyle>
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="MÃ£ HÄ" Binding="{Binding InvoiceCode}" Width="80"/>
                                <DataGridTextColumn Header="NgÃ y" Binding="{Binding InvoiceDate}" Width="90"/>
                                <DataGridTextColumn Header="KhÃ¡ch hÃ ng" Binding="{Binding CustomerName}" Width="*"/>
                                <DataGridTextColumn Header="Tá»•ng tiá»n" Binding="{Binding TotalAmount}" Width="100"/>
                                <DataGridTextColumn Header="NV" Binding="{Binding EmployeeName}" Width="80"/>
                                <DataGridTextColumn Header="Tráº¡ng thÃ¡i" Binding="{Binding Status}" Width="85"/>
                            </DataGrid.Columns>
                        </DataGrid>
                    </DockPanel>
                </Border>

                <!-- Right panels -->
                <StackPanel Grid.Column="1">
                    <!-- Top selling -->
                    <Border Background="White" CornerRadius="14" Padding="18" Margin="0,0,0,16">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="16" ShadowDepth="2" Opacity="0.08" Color="#000"/>
                        </Border.Effect>
                        <DockPanel>
                            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="ðŸ”¥" FontSize="15" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="Top BÃ¡n Cháº¡y" FontWeight="Bold" FontSize="14" Foreground="#1E293B" VerticalAlignment="Center"/>
                            </StackPanel>
                            <ListView x:Name="lvTopBanChay" Height="160" BorderThickness="0" Background="Transparent">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="Sáº£n pháº©m" DisplayMemberBinding="{Binding ProductName}" Width="160"/>
                                        <GridViewColumn Header="SL" DisplayMemberBinding="{Binding Quantity}" Width="50"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </DockPanel>
                    </Border>

                    <!-- Low stock -->
                    <Border Background="White" CornerRadius="14" Padding="18">
                        <Border.Effect>
                            <DropShadowEffect BlurRadius="16" ShadowDepth="2" Opacity="0.08" Color="#000"/>
                        </Border.Effect>
                        <DockPanel>
                            <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Margin="0,0,0,10">
                                <TextBlock Text="âš ï¸" FontSize="15" VerticalAlignment="Center" Margin="0,0,8,0"/>
                                <TextBlock Text="Sáº¯p Háº¿t HÃ ng" FontWeight="Bold" FontSize="14" Foreground="#DC2626" VerticalAlignment="Center"/>
                            </StackPanel>
                            <ListView x:Name="lvSapHetHang" Height="160" BorderThickness="0" Background="Transparent">
                                <ListView.View>
                                    <GridView>
                                        <GridViewColumn Header="Sáº£n pháº©m" DisplayMemberBinding="{Binding ProductName}" Width="160"/>
                                        <GridViewColumn Header="Tá»“n" DisplayMemberBinding="{Binding Quantity}" Width="50"/>
                                    </GridView>
                                </ListView.View>
                            </ListView>
                        </DockPanel>
                    </Border>
                </StackPanel>
            </Grid>

        </StackPanel>
    </ScrollViewer>
</UserControl>
